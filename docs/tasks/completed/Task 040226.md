# TASK — Seller Cabinet (Assortment Table) Prototype (HTML-only)
## Project: B2B Flower Market Platform
## Goal: Build an HTML prototype for approval → then create full PRD/TZ + sprint plan → implement in app
## IMPORTANT: NO AI features in this sprint (AI is a separate sprint)

---

## 0) Context
We already have a working backend pipeline:
- supplier uploads price list (CSV/XLSX/TXT)
- system parses + normalizes via dictionary/manual review logic
- offers can be published, orders exist (basic flow)

Current Seller Cabinet UI is too minimal and not operational.
We need a **Notion-like operational table** for assortment management.

Prototype target: **Seller Cabinet page** redesign concept (UI only).

---

## 1) Deliverable (what you must produce now)

### 1.1 Main deliverable
Create a single **static HTML prototype page** (no backend calls, no real auth):
- `prototype/seller_cabinet.html`
- plus minimal assets (optional): `prototype/styles.css`, `prototype/app.js` (optional)
- Must run by opening the HTML file in a browser.

### 1.2 Output requirements
- Use clean, modern UI layout (Notion-like table feel)
- Desktop-first (responsive is optional, but layout must not break)
- No heavy frameworks required (prefer plain HTML/CSS/JS)
- No code examples in the final response beyond minimal file list and run instructions (but implement actual files in repo).

### 1.3 How to run
Opening `prototype/seller_cabinet.html` should show the full prototype.

---

## 2) Business requirements (why we build this)

### 2.1 Primary user goal
Seller must be able to manage assortment and understand import results:
- see all positions (SKU-like rows)
- quickly filter “needs review / errors / active”
- update prices via “Upload/Update price list”
- review and fix ambiguous items through a review queue

### 2.2 Product objectives
- Make Seller Cabinet an **operational dashboard**, not a status page
- Reduce reliance on perfect file parsing by providing:
  - a stable canonical table view
  - a review workflow for ambiguous rows
- Make import feel safe:
  - seller sees what changed
  - seller sees what needs action

### 2.3 Out of scope for this prototype
- AI-assisted parsing/normalization UX (separate sprint)
- Real backend integration
- Full auth/roles
- Payments, inventory, delivery rules (unless already part of existing UI scope)

---

## 3) Page structure (prototype must include)

### 3.1 Top navigation (simple)
- Logo + main sections:
  - Showcase / Buyer Cabinet / Seller Cabinet (active)
- User badge: “Seller” + seller name (mock)
- Optional: link/button “Log out” (mock)

### 3.2 Seller summary strip (compact)
Replace huge KPI cards with a compact strip:
- Active positions count
- Needs review count
- Errors count
- Orders pending count
- Revenue (optional)
Make it smaller than current 4 big cards.

### 3.3 Main block: Assortment Table (the core)
A Notion-like table that shows seller positions.

#### Required columns (MVP)
- Status (pill): `Active / Draft / Needs review / Error / Hidden`
- Raw Name (from supplier) — text
- Normalized SKU (canonical) — text + small badge “mapped / unmapped”
- Product Type — text
- Variety — text (optional)
- Length (cm) — number
- Origin Country — text
- Pack Qty — number (optional)
- Price (min–max) — number/range
- Last Update (date/time) — text
- Source Batch (import id / date) — text

#### Table UX requirements
- Sticky header
- Row hover
- Column sorting (mock UI only)
- Search input (mock)
- Filters (mock):
  - All
  - Needs review
  - Errors
  - Active
  - Hidden
- Row actions (mock):
  - “Edit”
  - “Hide/Unhide”
  - “Open details”

> For the prototype: clicking can open a modal/panel with dummy content.

### 3.4 Primary CTA: Update Price List
A clear button near table header:
- “Update price list” (primary button)

On click:
- open modal “Upload price list”
- allow drag & drop area + file chooser (mock)
- show supported formats: CSV / XLSX / TXT
- show a fake upload progress state
- show fake result summary:
  - rows processed
  - successful
  - errors
  - needs review created

### 3.5 Secondary block: Import History (lightweight)
Below the table or in a tab:
- list last 5 imports (dummy data):
  - date/time
  - status: parsed / published / failed
  - counts: rows, errors, needs review
  - button: “View details” (mock)

### 3.6 Review Queue (must exist in prototype)
This is the critical “manual review” UX.

Implement as either:
- a separate tab “Review Queue”
or
- a right-side panel that opens when filter “Needs review” is selected

Each item shows:
- Raw Name
- Proposed SKU candidates (top 3)
- Confidence (mock)
- Buttons:
  - “Confirm mapping”
  - “Mark as new SKU request” (mock)
  - “Edit attributes” (mock)

> This is NOT AI. Candidates are dummy.

### 3.7 Errors panel (must exist in prototype)
A tab/section “Errors”:
- show typical parse errors (dummy):
  - invalid price
  - unknown columns
  - range format broken
  - missing name
- each error row has:
  - severity
  - message
  - suggested action (text)
  - “Open row” (mock)

---

## 4) Interaction requirements (prototype-level)
Implement minimal JS interactions:
- Tab switching (Assortment / Review Queue / Imports / Errors)
- Open/close modals (Upload, Row details)
- Filter chip selection (changes visible rows using dummy dataset)
- Search input filters dummy rows (optional but preferred)

No backend calls.

---

## 5) Data for prototype (dummy dataset)
Hardcode a small dataset (20–40 rows) with variety:
- mapped vs unmapped
- needs review
- errors
- different product types and countries
- price ranges and single prices
- different lengths/pack qty

Also create:
- 5 fake import batches
- 10 fake review-queue tasks
- 10 fake errors

---

## 6) Visual style guidelines
- Clean, modern SaaS look
- Notion-like table aesthetics:
  - light grid
  - subtle borders
  - readable typography
- Avoid heavy colors; use neutral palette + status pills
- Make primary CTA clear

---

## 7) Acceptance criteria (how we approve prototype)
Prototype is accepted when:
- Seller Cabinet page is centered around the table (not upload form)
- Upload flow exists as a modal with result summary
- Review Queue UX exists and is understandable
- Errors view exists
- Import History exists
- Navigation and main layout look coherent and “not empty”
- Prototype is viewable locally by opening the HTML file

---

## 8) After prototype approval (NOT in this task)
Once prototype is approved:
- produce full PRD/TZ for implementation:
  - data model mapping to UI
  - endpoints & contracts
  - roles/permissions
  - exact states and transitions
- create sprint plan and implement:
  - frontend pages
  - API wiring
  - review queue actions
  - import history details

AI-assisted import improvements are a separate sprint.

---

## 9) Output in your response (Cloud Code)
When you finish implementation, respond with:
1) What files were added/changed
2) How to open the prototype locally
3) Short checklist of implemented interactions

Do not include large code dumps in the response.
---
